<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Knowledge Health Monitor</title>
  <style>
    body { font-family: system-ui; background:#fafafa; padding:2rem }
    .card { background:#fff; padding:1rem; margin-bottom:1rem; border-radius:8px }
    .good { color:green }
    .warn { color:orange }
    .bad { color:red }
  </style>
</head>
<body>
<h1>Knowledge Health Monitor</h1>
<p id="time"></p>
<div id="list"></div>

<script>
fetch("health.json")
  .then(r=>r.json())
  .then(data=>{
    document.getElementById("time").textContent =
      "Last update: " + data.generated_at;

    const el = document.getElementById("list");
    data.results.forEach(r=>{
      const d = document.createElement("div");
      d.className="card";
      const cls = r.score > .7 ? "good" : r.score > .4 ? "warn" : "bad";
      d.innerHTML = `
        <strong>${r.name}</strong><br>
        <span class="${cls}">Health: ${(r.score*100).toFixed(0)}%</span><br>
        Signals: ${r.signals.join(", ") || "none"}
      `;
      el.appendChild(d);
    });
  });
</script>
</body>
</html>